{"version":3,"file":"index.js","sources":["../src/js/local-storage-api.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["const STORAGE_KEY = \"tasks\";\n\nfunction getTasks() {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY));\n}\n\nfunction saveTasks(task) {\n    const tasks = getTasks();\n    tasks.push(task);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks)); \n}\n\nfunction initTasks() {\n    const tasks = getTasks() ?? [];\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nfunction deleteTask(taskId) {\n    const tasks = getTasks();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks.filter(task => task.id !== taskId)));\n}\n\nexport default { getTasks, saveTasks, initTasks, deleteTask };\n","export const refs = {\n    form: document.querySelector('#task-form'),\n    tasksList: document.querySelector(\".tasks-list\"),\n    themeToggle: document.querySelector('#themeToggle')\n}","import { refs } from \"./refs\";\n\nexport function renderTasks(tasks) {\n\n    if (!tasks.length) {\n    refs.tasksList.innerHTML = '<p class=\"empty-message\">No tasks yet</p>';\n    return;\n    }\n\n    const markup = tasks.map(({ name, description, id }) => `<li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n      <h3>${name}</h3>\n      <p>${description}</p>\n  </li>`)\n        .join(\"\"); \n    \n    refs.tasksList.innerHTML = markup;\n}","import { nanoid } from \"nanoid\";\nimport localStorageApi from \"./local-storage-api\";\nimport { renderTasks } from \"./render-tasks\";\n\nfunction wrapInputsWithFormGroup() {\n  document.querySelectorAll(\"#task-form .header-form-input\").forEach((input) => {\n    if (!input.parentElement.classList.contains(\"form-group\")) {\n      const wrapper = document.createElement(\"div\");\n      wrapper.className = \"form-group\";\n      input.parentNode.insertBefore(wrapper, input);\n      wrapper.appendChild(input);\n    }\n  });\n}\n\nfunction showError(input, message) {\n  const wrapper = input.parentElement; \n  let errorEl = wrapper.querySelector(\".error-message\");\n\n  if (!errorEl) {\n    errorEl = document.createElement(\"div\");\n    errorEl.className = \"error-message\";\n    wrapper.appendChild(errorEl);\n  }\n\n  errorEl.innerHTML = `<span class=\"error-icon\">⚠️</span> ${message}`;\n  input.classList.add(\"input-error\");\n}\n\nfunction clearError(input) {\n  const wrapper = input.parentElement;\n  const errorEl = wrapper.querySelector(\".error-message\");\n  if (errorEl) {\n    errorEl.textContent = \"\";\n  }\n  input.classList.remove(\"input-error\");\n}\n\nfunction validateInputs(taskName, taskDescription) {\n  let isValid = true;\n\n  if (!taskName.value.trim()) {\n    showError(taskName, \"Поле 'Назва' обов'язкове\");\n    isValid = false;\n  } else {\n    clearError(taskName);\n  }\n\n  if (!taskDescription.value.trim()) {\n    showError(taskDescription, \"Поле 'Опис' обов'язкове\");\n    isValid = false;\n  } else {\n    clearError(taskDescription);\n  }\n\n  return isValid;\n}\n\nexport function onFormSubmit(e) {\n  e.preventDefault();\n\n  const { taskName, taskDescription } = e.target.elements;\n  const name = taskName.value.trim();\n  const description = taskDescription.value.trim();\n\n  if (!validateInputs(taskName, taskDescription)) {\n    return;\n  }\n\n  const task = {\n    name,\n    description,\n    id: nanoid(),\n  };\n\n  localStorageApi.saveTasks(task);\n  const tasks = localStorageApi.getTasks();\n\n  renderTasks(tasks);\n\n  e.target.reset();\n}\n\nexport function attachValidationListeners() {\n  const form = document.querySelector(\"#task-form\");\n  const { taskName, taskDescription } = form.elements;\n\n  [taskName, taskDescription].forEach((input) => {\n    input.addEventListener(\"input\", () => {\n      if (input.value.trim()) {\n        clearError(input);\n      }\n    });\n  });\n}\n\nexport function onTaskDelete(e) {\n  if (!e.target.classList.contains(\"task-list-item-btn\")) {\n    return;\n  }\n\n  const taskId = e.target.dataset.id;\n  localStorageApi.deleteTask(taskId);\n  const tasks = localStorageApi.getTasks();\n  renderTasks(tasks);\n}\n\nwrapInputsWithFormGroup();","import { refs } from \"./refs\";\n\nconst THEME_KEY = \"theme\";\n\nexport function initTheme() {\n  const savedTheme = localStorage.getItem(THEME_KEY) || \"light\";\n  applyTheme(savedTheme);\n}\n\nexport function toggleTheme() {\n  const currentTheme = document.body.classList.contains(\"theme-dark\")\n    ? \"dark\"\n    : \"light\";\n\n  const newTheme = currentTheme === \"dark\" ? \"light\" : \"dark\";\n  applyTheme(newTheme);\n  localStorage.setItem(THEME_KEY, newTheme);\n}\n\nfunction applyTheme(theme) {\n  document.body.classList.remove(\"theme-light\", \"theme-dark\");\n\n  if (theme === \"dark\") {\n    document.body.classList.add(\"theme-dark\");\n  } else {\n    document.body.classList.add(\"theme-light\");\n  }\n}","/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\n\nimport { onFormSubmit, onTaskDelete, attachValidationListeners } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\nimport localStorageApi from \"./js/local-storage-api\";\nimport { renderTasks } from \"./js/render-tasks\";\nimport { initTheme, toggleTheme } from \"./js/theme-switcher\";\n\ninitTheme();\n\nlocalStorageApi.initTasks();\nrenderTasks(localStorageApi.getTasks());\n\n// function initApp() {\n//   initTheme();\n//   localStorageApi.initTasks();\n//   renderTasks(localStorageApi.getTasks());\n// }\n\n// initApp();\n\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.tasksList.addEventListener(\"click\", onTaskDelete);\nrefs.themeToggle.addEventListener(\"click\", toggleTheme);\n\nattachValidationListeners();"],"names":["STORAGE_KEY","getTasks","saveTasks","task","tasks","initTasks","deleteTask","taskId","localStorageApi","refs","renderTasks","markup","name","description","id","wrapInputsWithFormGroup","input","wrapper","showError","message","errorEl","clearError","validateInputs","taskName","taskDescription","isValid","onFormSubmit","nanoid","attachValidationListeners","form","onTaskDelete","THEME_KEY","initTheme","savedTheme","applyTheme","toggleTheme","newTheme","theme"],"mappings":"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"}